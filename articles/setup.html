<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="ShinyQDA">
<title>Setting Up a ShinyQDA Project • ShinyQDA</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Setting Up a ShinyQDA Project">
<meta property="og:description" content="ShinyQDA">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">ShinyQDA</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.5.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/feature_guide.html">Feature Guide</a>
    <a class="dropdown-item" href="../articles/setup.html">Setting Up a ShinyQDA Project</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/jbryer/ShinyQDA/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Setting Up a ShinyQDA Project</h1>
                        <h4 data-toc-skip class="author">Jason Bryer,
Ph.D.</h4>
            
            <h4 data-toc-skip class="date">2023-03-27</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/jbryer/ShinyQDA/blob/HEAD/vignettes/setup.Rmd" class="external-link"><code>vignettes/setup.Rmd</code></a></small>
      <div class="d-none name"><code>setup.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the <code>ShinyQDA</code> package from Github using
the <code>remotes</code> package:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>remotes<span class="sc">::</span><span class="fu">install_github</span>(<span class="st">'jbryer/ShinyQDA'</span>, <span class="at">dependencies =</span> <span class="fu">c</span>(<span class="st">'Depends'</span>, <span class="st">'Imports'</span>, <span class="st">'Suggests))</span></span></code></pre></div>
<p>Eventually you will be able to install from CRAN using the following
command:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">'ShinyQDA'</span>, <span class="at">dependencies =</span> <span class="fu">c</span>(<span class="st">'Depends'</span>, <span class="st">'Imports'</span>, <span class="st">'Suggests))</span></span></code></pre></div>
<p>Much of the <code>ShinyQDA</code> application is implemented using <a href="https://shiny.rstudio.com/articles/modules.html" class="external-link">Shiny
modules</a>. The package dependencies for each module are not isntalled
using the default <code>dependencies</code> values. Although a minor
inconvenience at installation time, this ensures that the
<code>ShinyQDA</code> minimizes the packages with strict dependencies
which is encouraged through the CRAN check process. If any required
packages are not available the module will display a message with list
of the missing packages in the Shiny application.</p>
</div>
<div class="section level2">
<h2 id="creating-new-project">Creating New Project<a class="anchor" aria-label="anchor" href="#creating-new-project"></a>
</h2>
<p>To utilize the <code>ShinyQDA</code> application you need to
initialize it with some data. At minimum you need a data frame with two
columns: a unique identifier and the text data, although you can pass
any other columns along and they will be preserved for analysis later.
The following example is a small subset from the <a href="https://daacs.net" class="external-link">Diagnostic Assessment and Achievement of
College Skills (DAACS)</a> which was analyzed for a paper title
<em>College students’ responses to automated feedback on self-regulated
learning</em> <span class="citation">(<a href="#ref-yu2023" role="doc-biblioref">Yu et al., 2023</a>)</span>. DAACS assesses key
college skills in self-regulated learning, writing, mathematics and
reading comprehension. For the writing assessment students are asked to
identify strategies from their self-regulated learning they can improve
and how they will use them to be successful. Students received scores
from a machine learning algorithm and those scores are included to
demonstrate the rubric features of <code>ShinyQDA</code>. The
<code>daacs_data</code> data frame includes 17 essays along with their
writing and self-regulation scores from two coders/raters. This is a
subset of the 100 essays coded by five people for the <span class="citation">Yu et al. (<a href="#ref-yu2023" role="doc-biblioref">2023</a>)</span> paper.</p>
<p>You can run this application using the following command.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">shiny</span><span class="fu">::</span><span class="fu"><a href="https://shiny.rstudio.com/reference/shiny/latest/runApp.html" class="external-link">runApp</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/find.package.html" class="external-link">find.package</a></span><span class="op">(</span><span class="st">'ShinyQDA'</span><span class="op">)</span>, <span class="st">'/daacs_demo/'</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>The remainder of this document will outline the steps on how we setup
the <code>ShinyQDA</code> with pre-existing data.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/jbryer/ShinyQDA" class="external-link">ShinyQDA</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"daacs_data"</span>, package <span class="op">=</span> <span class="st">'ShinyQDA'</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">ShinyQDA</span><span class="fu">::</span><span class="fu"><a href="../reference/new_app.html">new_app</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">'daacs_demo'</span>,</span>
<span>                  dir <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/getwd.html" class="external-link">getwd</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>                  qda_data <span class="op">=</span> <span class="va">daacs_data</span>,</span>
<span>                  id_column <span class="op">=</span> <span class="st">'id'</span>,</span>
<span>                  text_column <span class="op">=</span> <span class="st">'qda_text'</span>,</span>
<span>                  initialize_sentiment_dictionaries <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                  run_app <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<p>This command will create a director at <code>name/dir/</code>, copy
an <code>app.R</code> Shiny script, and initialize a SQLite database
with the contents of the <code>qda_data</code> data frame parameter. You
can now run this application and begin working with your qualitative
data. The following section will discuss how we can populate the
<code>ShinyQDA</code> application with pre-existing data.</p>
<p>Note that if <code>initialize_sentiment_dictionaries = TRUE</code>
you will be prompted four times to download the four sentiment
dictionaries. This is required if you intend to do any sentiment
analysis. Please do check the licenses for each of these databases
before using in production.</p>
</div>
<div class="section level2">
<h2 id="setting-up-coding-and-scoring-schemes">Setting up coding and scoring schemes<a class="anchor" aria-label="anchor" href="#setting-up-coding-and-scoring-schemes"></a>
</h2>
<p>The <code>ShinyQDA</code> package uses a SQLite database to store all
data. The <code><a href="../reference/qda.html">qda()</a></code> function is a wrapper to the database
providing functions to select, insert, and delete data using R functions
(i.e. no SQL knowledge required!). The following code will create the
<code>qda</code> object and load data from the package that including
codings, text responses, and rubric scores, respectively.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">daacs_qda</span> <span class="op">&lt;-</span> <span class="fu">ShinyQDA</span><span class="fu">::</span><span class="fu"><a href="../reference/qda.html">qda</a></span><span class="op">(</span><span class="st">'daacs_demo/qda.sqlite'</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"daacs_codings"</span>, package <span class="op">=</span> <span class="st">'ShinyQDA'</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"daacs_text_responses"</span>, package <span class="op">=</span> <span class="st">'ShinyQDA'</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"daacs_rubric"</span>, package <span class="op">=</span> <span class="st">'ShinyQDA'</span><span class="op">)</span></span></code></pre></div>
<div class="section level3">
<h3 id="text-questions">Text Questions<a class="anchor" aria-label="anchor" href="#text-questions"></a>
</h3>
<p>Text questions are questions you want each coder to respond to about
each text document. That is, there is one set of questions for each text
document. Going the the Setup -&gt; Questions menu in the application
will allow you to add questions through the application. ShinyQDA
currently supports checkbox questions, radio button questions, or open
text fields. These questions show up on the left hand side when in the
coding view.</p>
<p><img src="../reference/figures/screenshot_setup_questions.png" alt="Screenshot of adding text questions" width="80%" style="display: block; margin: auto;"></p>
<p>Alternatively, you can add the text questions manually through the
<code>qda</code> object.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">daacs_qda</span><span class="op">$</span><span class="fu">add_text_question</span><span class="op">(</span>stem <span class="op">=</span> <span class="st">'Non-responsive to prompt'</span>,</span>
<span>                            type <span class="op">=</span> <span class="st">'checkbox'</span><span class="op">)</span></span>
<span><span class="va">daacs_qda</span><span class="op">$</span><span class="fu">add_text_question</span><span class="op">(</span>stem <span class="op">=</span> <span class="st">'Additional comments about the text'</span>,</span>
<span>                            type <span class="op">=</span> <span class="st">'text'</span><span class="op">)</span></span></code></pre></div>
<p>You can get a data frame with all the specified text questions using
the <code>get_text_questions()</code> function.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">daacs_qda</span><span class="op">$</span><span class="fu">get_text_questions</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="code-questions">Code Questions<a class="anchor" aria-label="anchor" href="#code-questions"></a>
</h3>
<p>Code questions are similar to text questions except there can be
multiple responses per text document. When a users highlights some text
and clicks the <em>Add Code</em> button, a dialog box will appear. The
first input is a place to enter individual codes (see next section)
along with an arbitrary set of questions defined either in the Setup
-&gt; Questions UI or using the following commands.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">daacs_qda</span><span class="op">$</span><span class="fu">add_code_question</span><span class="op">(</span></span>
<span>    stem <span class="op">=</span> <span class="st">'Content of Essay'</span>,</span>
<span>    type <span class="op">=</span> <span class="st">'checkbox'</span>,</span>
<span>    options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'Definition of concepts'</span>,</span>
<span>                <span class="st">'Interpretation_strength'</span>,</span>
<span>                <span class="st">'Interpretation_weakness'</span>,</span>
<span>                <span class="st">'Interpretation_mixed'</span>,</span>
<span>                <span class="st">'Interpretation_medium'</span>,</span>
<span>                <span class="st">'Interpretation_strategies awareness'</span>,</span>
<span>                <span class="st">'Interpretation_strategies commitment'</span>,</span>
<span>                <span class="st">'Interpretation_judgments'</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="va">daacs_qda</span><span class="op">$</span><span class="fu">add_code_question</span><span class="op">(</span></span>
<span>    stem <span class="op">=</span> <span class="st">'Does this text represent'</span>,</span>
<span>    type <span class="op">=</span> <span class="st">'checkbox'</span>,</span>
<span>    options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'Strength'</span>,</span>
<span>                <span class="st">'Weakness'</span>,</span>
<span>                <span class="st">'Mixed'</span>,</span>
<span>                <span class="st">'Medium'</span>,</span>
<span>                <span class="st">'Strategies Awareness'</span>,</span>
<span>                <span class="st">'Strategies Commitment'</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="va">daacs_qda</span><span class="op">$</span><span class="fu">add_code_question</span><span class="op">(</span></span>
<span>    stem <span class="op">=</span> <span class="st">'Judgment about survey or feedback'</span>,</span>
<span>    type <span class="op">=</span> <span class="st">'checkbox'</span>,</span>
<span>    options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'Agree'</span>,</span>
<span>                <span class="st">'Disagree'</span>,</span>
<span>                <span class="st">'Valuable/helpful/useful'</span>,</span>
<span>                <span class="st">'Not valuable/helpful/useful'</span>,</span>
<span>                <span class="st">'Other'</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="codes">Codes<a class="anchor" aria-label="anchor" href="#codes"></a>
</h3>
<p>Codes are the core functionality for qualitative data anlysis. You
can define your codes using the application by going the Setup -&gt;
Codebook page. Alternatively, you can add codes through the
<code>qda</code> object.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">categories</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    <span class="st">'metacognition'</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'planning'</span>, <span class="st">'monitoring'</span>, <span class="st">'evaluation'</span><span class="op">)</span>,</span>
<span>    <span class="st">'motivation'</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'mindset'</span>, <span class="st">'test anxiety'</span>, <span class="st">'mastery orientation'</span><span class="op">)</span>,</span>
<span>    <span class="st">'self efficacy'</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'self efficacy for online learning'</span>,</span>
<span>                        <span class="st">'self efficacy for writing'</span>,</span>
<span>                        <span class="st">'self efficacy for mathematics'</span>,</span>
<span>                        <span class="st">'self efficacy for reading'</span><span class="op">)</span>,</span>
<span>    <span class="st">'strategies'</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'managing environment'</span>, <span class="st">'understanding'</span>, <span class="st">'managing time'</span>, <span class="st">'help seeking'</span><span class="op">)</span>,</span>
<span>    <span class="st">'procrastination'</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="va">codes</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">categories</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/unlist.html" class="external-link">unlist</a></span><span class="op">(</span><span class="va">categories</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/r/base/unname.html" class="external-link">unname</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">daacs_qda</span><span class="op">$</span><span class="fu">add_codes</span><span class="op">(</span><span class="va">codes</span><span class="op">)</span></span></code></pre></div>
<p>The following chunk will loop through the codes setting the
<code>parent</code> parameter to maintain our coding hierarchy defined
in the <code>ccategories</code> list above.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw">for</span><span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq_len</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">categories</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">category</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">categories</span><span class="op">)</span><span class="op">[</span><span class="va">i</span><span class="op">]</span></span>
<span>    <span class="va">codes</span> <span class="op">&lt;-</span> <span class="va">categories</span><span class="op">[[</span><span class="va">i</span><span class="op">]</span><span class="op">]</span></span>
<span>    <span class="kw">for</span><span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="va">codes</span><span class="op">)</span> <span class="op">{</span></span>
<span>        <span class="va">daacs_qda</span><span class="op">$</span><span class="fu">update_code</span><span class="op">(</span><span class="va">i</span>, parent <span class="op">=</span> <span class="va">category</span><span class="op">)</span></span>
<span>    <span class="op">}</span></span>
<span><span class="op">}</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="rubrics">Rubrics<a class="anchor" aria-label="anchor" href="#rubrics"></a>
</h3>
<p>In addition to coding text documents, you can specify a rubric that
coders/raters can use to evaluate a text docuement. The
<code>daacs_rubric</code> is the scoring rubric used for scoring (note
students see a different rubric designed to provide feedback in a
positive framework).</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">daacs_qda</span><span class="op">$</span><span class="fu">add_rubric</span><span class="op">(</span></span>
<span>    rubric_name <span class="op">=</span> <span class="st">'daacs'</span>,</span>
<span>    description <span class="op">=</span> <span class="st">'DAACS Scoring Rubric'</span>,</span>
<span>    rubric <span class="op">=</span> <span class="va">daacs_rubric</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="importing-existing-data">Importing existing data<a class="anchor" aria-label="anchor" href="#importing-existing-data"></a>
</h2>
<p>The following sections provide sample code of how we can prepopulate
the ShinyQDA application with pre-exisiting codings and scores.</p>
<div class="section level3">
<h3 id="add-existing-codings">Add existing codings<a class="anchor" aria-label="anchor" href="#add-existing-codings"></a>
</h3>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">daacs_code_questions</span> <span class="op">&lt;-</span> <span class="va">daacs_qda</span><span class="op">$</span><span class="fu">get_code_questions</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="kw">for</span><span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq_len</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">daacs_codings</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">coder</span> <span class="op">&lt;-</span> <span class="va">daacs_codings</span><span class="op">[</span><span class="va">i</span>,<span class="op">]</span><span class="op">$</span><span class="va">coder</span></span>
<span>    <span class="va">thetext</span> <span class="op">&lt;-</span> <span class="va">daacs_data</span><span class="op">[</span><span class="va">daacs_data</span><span class="op">$</span><span class="va">id</span> <span class="op">==</span> <span class="va">daacs_codings</span><span class="op">[</span><span class="va">i</span>,<span class="op">]</span><span class="op">$</span><span class="va">id</span>,<span class="op">]</span><span class="op">$</span><span class="va">qda_text</span></span>
<span>    <span class="va">pos</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">gregexpr</a></span><span class="op">(</span><span class="va">daacs_codings</span><span class="op">[</span><span class="va">i</span>,<span class="op">]</span><span class="op">$</span><span class="va">text</span>, <span class="va">thetext</span>, fixed <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span></span>
<span>    <span class="va">coding_id</span> <span class="op">&lt;-</span> <span class="va">daacs_qda</span><span class="op">$</span><span class="fu">add_coding</span><span class="op">(</span></span>
<span>        id <span class="op">=</span> <span class="va">daacs_codings</span><span class="op">[</span><span class="va">i</span>,<span class="op">]</span><span class="op">$</span><span class="va">id</span>,</span>
<span>        text <span class="op">=</span> <span class="va">daacs_codings</span><span class="op">[</span><span class="va">i</span>,<span class="op">]</span><span class="op">$</span><span class="va">text</span>,</span>
<span>        codes <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/strsplit.html" class="external-link">strsplit</a></span><span class="op">(</span><span class="va">daacs_codings</span><span class="op">[</span><span class="va">i</span>,<span class="op">]</span><span class="op">$</span><span class="va">codes</span>, <span class="st">';'</span><span class="op">)</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span>,</span>
<span>        start <span class="op">=</span> <span class="va">pos</span>,</span>
<span>        end <span class="op">=</span> <span class="va">pos</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/base/nchar.html" class="external-link">nchar</a></span><span class="op">(</span><span class="va">daacs_codings</span><span class="op">[</span><span class="va">i</span>,<span class="op">]</span><span class="op">$</span><span class="va">text</span><span class="op">)</span>,</span>
<span>        coder <span class="op">=</span> <span class="va">coder</span></span>
<span>    <span class="op">)</span></span>
<span>    <span class="kw">for</span><span class="op">(</span><span class="va">j</span> <span class="kw">in</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq_len</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">daacs_code_questions</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>        <span class="va">stem</span> <span class="op">&lt;-</span> <span class="va">daacs_code_questions</span><span class="op">[</span><span class="va">j</span>,<span class="op">]</span><span class="op">$</span><span class="va">stem</span></span>
<span>        <span class="kw">if</span><span class="op">(</span><span class="va">stem</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">daacs_codings</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>            <span class="va">val</span> <span class="op">&lt;-</span> <span class="va">daacs_codings</span><span class="op">[</span><span class="va">i</span>,<span class="va">stem</span><span class="op">]</span></span>
<span>            <span class="va">daacs_qda</span><span class="op">$</span><span class="fu">add_code_question_response</span><span class="op">(</span>coding_id <span class="op">=</span> <span class="va">coding_id</span>,</span>
<span>                                                 stem <span class="op">=</span> <span class="va">stem</span>,</span>
<span>                                                 answer <span class="op">=</span> <span class="va">val</span>,</span>
<span>                                                 coder <span class="op">=</span> <span class="va">coder</span><span class="op">)</span></span>
<span>        <span class="op">}</span></span>
<span>    <span class="op">}</span></span>
<span><span class="op">}</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="add-existing-text-questions">Add existing text questions<a class="anchor" aria-label="anchor" href="#add-existing-text-questions"></a>
</h3>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw">for</span><span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq_len</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">daacs_text_responses</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">daacs_qda</span><span class="op">$</span><span class="fu">add_text_question_response</span><span class="op">(</span></span>
<span>        id <span class="op">=</span> <span class="va">daacs_text_responses</span><span class="op">[</span><span class="va">i</span>,<span class="op">]</span><span class="op">$</span><span class="va">id</span>,</span>
<span>        stem <span class="op">=</span> <span class="va">daacs_text_responses</span><span class="op">[</span><span class="va">i</span>,<span class="op">]</span><span class="op">$</span><span class="va">stem</span>,</span>
<span>        answer <span class="op">=</span> <span class="va">daacs_text_responses</span><span class="op">[</span><span class="va">i</span>,<span class="op">]</span><span class="op">$</span><span class="va">answer</span>,</span>
<span>        coder <span class="op">=</span> <span class="va">daacs_text_responses</span><span class="op">[</span><span class="va">i</span>,<span class="op">]</span><span class="op">$</span><span class="va">coder</span></span>
<span>    <span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="add-rubric-scores">Add rubric scores<a class="anchor" aria-label="anchor" href="#add-rubric-scores"></a>
</h3>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw">for</span><span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq_len</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">daacs_data</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="kw">for</span><span class="op">(</span><span class="va">j</span> <span class="kw">in</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">daacs_rubric</span><span class="op">$</span><span class="va">SubCriteria</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>        <span class="va">daacs_qda</span><span class="op">$</span><span class="fu">add_rubric_response</span><span class="op">(</span></span>
<span>            rubric_name <span class="op">=</span> <span class="st">'daacs'</span>,</span>
<span>            qda_id <span class="op">=</span> <span class="va">daacs_data</span><span class="op">[</span><span class="va">i</span>,<span class="op">]</span><span class="op">$</span><span class="va">id</span>,</span>
<span>            coder <span class="op">=</span> <span class="st">'Rater1'</span>,</span>
<span>            criteria <span class="op">=</span> <span class="va">j</span>,</span>
<span>            score <span class="op">=</span> <span class="va">daacs_data</span><span class="op">[</span><span class="va">i</span>,<span class="va">j</span>,drop<span class="op">=</span><span class="cn">TRUE</span><span class="op">]</span></span>
<span>        <span class="op">)</span></span>
<span>    <span class="op">}</span></span>
<span><span class="op">}</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<div id="refs" class="references csl-bib-body hanging-indent" line-spacing="2">
<div id="ref-Hu04" class="csl-entry">
Hu, M., &amp; Liu, B. (2004). Mining and summarizing customer reviews.
<em>Proceedings of the Tenth ACM SIGKDD International Conference on
Knowledge Discovery and Data Mining</em>, 168–177. <a href="https://doi.org/10.1145/1014052.1014073" class="external-link">https://doi.org/10.1145/1014052.1014073</a>
</div>
<div id="ref-hvitfeldt2022" class="csl-entry">
Hvitfeldt, E., &amp; Silge, J. (2022). <em>Text analysis in r</em>. CRC
Press.
</div>
<div id="ref-loughran11" class="csl-entry">
Loughran, T., &amp; McDonald, B. (2011). When is a liability not a
liability? Textual analysis, dictionaries, and 10-ks. <em>The Journal of
Finance</em>, <em>66</em>(1), 35–65. <a href="https://doi.org/10.1111/j.1540-6261.2010.01625.x" class="external-link">https://doi.org/10.1111/j.1540-6261.2010.01625.x</a>
</div>
<div id="ref-mohammad13" class="csl-entry">
Mohammad, S. M., &amp; Turney, P. D. (2013). Crowdsourcing a
word-emotion association lexicon. <em>Computational Intelligence</em>,
<em>29</em>(3), 436–465. <a href="https://doi.org/10.1111/j.1467-8640.2012.00460.x" class="external-link">https://doi.org/10.1111/j.1467-8640.2012.00460.x</a>
</div>
<div id="ref-nielsen11" class="csl-entry">
Nielsen, F. Äruprup. (2011). A new ANEW: Evaluation of a word list for
sentiment analysis in microblogs. <em>CoRR</em>, <em>abs/1103.2903</em>.
<a href="http://arxiv.org/abs/1103.2903" class="external-link">http://arxiv.org/abs/1103.2903</a>
</div>
<div id="ref-schweinberger2023topic" class="csl-entry">
Schweinberger, M. (2023). <em>Topic modeling with r</em> (2023.02.05
ed.). The University of Queensland, Australia. School of Languages;
Cultures.
</div>
<div id="ref-silge2022" class="csl-entry">
Silge, J., &amp; Robinson, D. (2022). <em>Text mining with r</em>.
O’Reilly.
</div>
<div id="ref-yu2023" class="csl-entry">
Yu, E., Lui, A. M., Andrade, H., Franklin, D., Akhmedjanova, D., &amp;
Bryer, J. (2023). <em>College students’ responses to automated feedback
on self-regulated learning.</em> American Educational Research
Association.
</div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Jason Bryer.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
